---
title: "All About Lens in Haskell"
date: "2022-02-21"
tags: ["Haskell", "Lens"]
---

```haskell
type Lens s t a b = forall f. Functor f => (a -> f b) -> s -> f t

lens :: (s -> a) -> (s -> b -> t) -> Lens s t a b
lens sa sbt afb s = sbt s <$> afb (sa s)

view :: Lens s t a b -> s -> a
view l s = getConst $ l Const s

set :: Lens s t a b -> s -> b -> t
set l s b = runIdentity $ l (\_ -> Identity b) s

over :: Lens s t a b -> s -> (a -> b) -> t
over l s f = runIdentity $ l (Identity . f) s
```

```haskell
_1 :: Lens (a, b) (c, b) a c
_1 = lens fst (\(a, b) c -> (c, b))

_2 :: Lens (a, b) (a, d) b d
_2 = lens snd (\(a, b) d -> (a, d))
```