---
title: "Hasche"
featuredImage: "./featured-image.png"
thumbnail: "./thumbnail.png"
description: "An interpreter of a Scheme-like language written in Haskell"
githubRepository: "wasabi315/Hasche"
---

> Hasche (/hæʃ/): **Ha**skell + **Sche**me

Hasche is a toy interpreter of a Scheme-like language written in Haskell.
I made this for a "newcomer project" of a research group I am joining.
I enjoyed writing this and got some basic knowledge of programming language implementation.

## Try It out!
[Cabal](https://www.haskell.org/cabal/) is required to run Hasche.

```bash
git clone https://github.com/wasabi315/Hasche.git
cd Hasche
cabal build
cabal exec hasche -- exec ./programs/hello.scm # Execute a program
cabal exec hasche -- repl # Launch REPL
```

## Features

### Read-Eval-Print Loop (REPL)
Hasche offers the REPL feature.
You can use it to try Hasche's features interactively.

```scheme
hasche> (display "Hello, world!\n")
Hello, world!
#<undef>
hasche> (load "./programs/hello.scm")
Hello, world!
#<undef>
```

### call-with-current-continuation
The procedure `call-with-current-continuation` (`call/cc`) is supported.
A continuation object is first-class in Hasche and represented as a unary function.
I used [continuation monad](https://hackage.haskell.org/package/mtl-2.2.2/docs/Control-Monad-Cont.html) to implement this procedure.

```scheme
; Adopted from https://en.wikipedia.org/wiki/Call-with-current-continuation

(define (f return)
  (return 2)
  3)

(display (f (lambda (x) x))) ; displays 3

(display (call-with-current-continuation f)) ; displays 2
```

### Non-hygienic Macros
Hasche supports non-hygienic macros. Use the special form `define-macro` to define them.
The special forms `match`, `quasiquote`, `unquote`, and `unquote-splicing` are available and help us write more readable macro definitions.

```scheme
(define-macro (and . l)
  (match l
    (() #t)
    ((test1 . test2) `(if ,test1 (and ,@test2) #f))))

(and t1 t2 t3) ; expands to (if t1 (and t2 t3) #f)
```

## Contribute
Feel free to fork it and send me a pull request!
